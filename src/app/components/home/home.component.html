<div class="container">
  <div class="row flex-sm-row flex-column custom-margin-bottom">
    <div class="col-md-8 order-0 order-md-0">
      <h1>Publicaciones</h1>
      <div *ngFor="let publicacion of publicaciones" class="publicaciones">
        <div class="contenido">
          <p>Contenido: {{ publicacion.contenido }}</p>
        </div>
        <div class="acciones">
          <img *ngIf="usuariosCargados[publicacion.idUsuario]" [src]="usuariosCargados[publicacion.idUsuario].fotoPerfil" class="perfilAvatar">
          <p *ngIf="usuariosCargados[publicacion.idUsuario]">Publicado por: {{ usuariosCargados[publicacion.idUsuario].nombre }}</p>
          <p style="margin-bottom: 0;">Fecha de Publicación: {{ publicacion.fechaPublicacion | date:'dd/MM/yyyy'}}</p>
          <p><i class="pi pi-heart" style="font-size: 1.5rem;"></i>{{ publicacion.numMeGustas }}</p>
          <p><i class="pi pi-comment" style="font-size: 1.5rem"></i></p>
        </div>
      </div>
    </div>
    <div class="col-md-3 order-1 order-md-1">
      <div class="botones">
        <button type="button" (click)="mostrarCrearPublicacion()" pButton>CREAR PUBLICACIÓN</button>
      </div>
      @if (mostrarCrear) {
        <div>
            <form (ngSubmit)="crearPublicacionUsuario()" #publicacionForm="ngForm">
                <div class="form-group">
                    <label for="contenido">Contenido:</label>
                    <textarea id="contenido" name="contenido" class="form-control" [(ngModel)]="publicacion.contenido" required style="height: 100px; margin-bottom: 2%;"></textarea>
                </div>
                <div class="form-group">
                  <div class="botones">
                    <button type="submit" [disabled]="publicacionForm.invalid" pButton>Publicar</button>
                    <button type="button" pButton (click)="cerrarCrearPublicacion()">Cancelar</button>
                  </div>
                </div>
            </form>
        </div>
    }
    </div>
  </div>
